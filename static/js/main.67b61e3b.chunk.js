(this["webpackJsonpcorona-meter"]=this["webpackJsonpcorona-meter"]||[]).push([[0],{13:function(e,a,t){e.exports={countryHeader:"CountryData_countryHeader__8c1j8"}},32:function(e,a,t){e.exports={rootContainer:"Dashboard_rootContainer__1HTOq"}},33:function(e,a,t){e.exports=t(66)},5:function(e,a,t){e.exports={number:"NumberCard_number__1rkk8",left:"NumberCard_left__1bkGy",right:"NumberCard_right__teMx2"}},65:function(e,a,t){},66:function(e,a,t){"use strict";t.r(a);t(34),t(35),t(36);var n=t(0),r=t.n(n),c=t(12),o=t.n(c),l=t(3),i=t(10),u=t.n(i),s=t(16),d=t(17),m=t(15),f=(t(7),t(11)),v=t.n(f),p=t(68),b=t(69),h=Object(m.b)({name:"corona",initialState:{latestData:null,latestGlobalData:null,historicData:{},deltaData:{},selectedCountries:["DE","GB","US","FR"],daysToShow:7},reducers:{fetchLatestDataSuccess:function(e,a){e.latestData=a.payload},fetchLatestGlobalSuccess:function(e,a){e.latestGlobalData=a.payload},fetchCountryHistoricDataSuccess:function(e,a){var t=a.payload,n=t.countrycode.iso2,r=t.timeseries,c=new Array(r.length);c[0]=Object(d.a)({},r[0]);for(var o=1;o<r.length;o++){var l=r[o-1],i=r[o];c[o]={date:l.date,confirmed:l.confirmed-i.confirmed,deaths:l.deaths-i.deaths,recovered:l.recovered-i.recovered}}for(var u=0;u<r.length;u++){var s=r[u].confirmed/2;if(0===s)break;for(var m=u+1;m<r.length&&r[m].confirmed>s;)m+=1;m<r.length?c[u].doublingtime=m-u:c[u].doublingtime=null}e.historicData[n]=t,e.deltaData[n]=c}}}),E=h.actions,y=E.fetchLatestDataSuccess,g=E.fetchLatestGlobalSuccess,j=E.fetchCountryHistoricDataSuccess,D=h.reducer,O=t(13),w=t.n(O),N=t(14),C=t(8),k=t.n(C),S=t(9),_=t(5),x=t.n(_);var G=function(e){var a,t,n=e.value,c=(e.positiveGood,e.withSign),o=void 0!==c&&c,l=e.percentage,i="";return o&&(i=n&&n>=0?"+":"-"),null==n?a="-":void 0!==l&&l?(t=n,a="".concat(Math.round(1e3*t)/10," %")):a=n.toLocaleString(),r.a.createElement("span",{className:k()({red:"-"===i,green:"+"===i})},i,a)},H=function(e){var a=e.countrycode,t=e.label,c=e.name,o=e.value,i=Object(n.useState)([]),u=Object(N.a)(i,2),s=u[0],d=u[1],m=Object(l.c)((function(e){var t;return null===(t=e.corona.latestData)||void 0===t?void 0:t.find((function(e){return e.countrycode.iso2===a}))})),f=Object(l.c)((function(e){return e.corona.historicData&&e.corona.historicData[a]})),v=Object(l.c)((function(e){return e.corona.historicData&&e.corona.deltaData[a]})),p=Object(l.c)((function(e){return e.corona})).daysToShow;Object(n.useEffect)((function(){if(null!=m&&null!=v&&null!=c){for(var e=new Array(7),a=1;a<p;a++)e.push({date:f.timeseries[a].date,value:f.timeseries[a][c],delta:v[a][c]});d(e)}}),[m,v]);var b=null;return o?b=o:m&&c&&m[c]&&(b=m[c]),r.a.createElement("div",{className:"p-col-6 p-lg-3"},r.a.createElement(S.Card,{className:""},r.a.createElement("div",{className:x.a.label},t),r.a.createElement("div",{className:x.a.number},r.a.createElement(G,{value:b})),s.map((function(e){return r.a.createElement("div",{key:e.date,className:"p-grid"},r.a.createElement("div",{className:k()("p-col-5",x.a.left)},r.a.createElement(G,{value:e.delta,withSign:!0})),r.a.createElement("div",{className:k()("p-col-7",x.a.right)},r.a.createElement(G,{value:e.value})))}))))},z=function(e){var a=e.countrycode,t=e.label,c=e.name,o=(e.value,Object(n.useState)([])),i=Object(N.a)(o,2),u=i[0],s=i[1],d=Object(l.c)((function(e){return e.corona})).daysToShow,m=Object(l.c)((function(e){var t;return null===(t=e.corona.latestData)||void 0===t?void 0:t.find((function(e){return e.countrycode.iso2===a}))})),f=Object(l.c)((function(e){return e.corona.historicData&&e.corona.historicData[a]})),v=Object(l.c)((function(e){return e.corona.historicData&&e.corona.deltaData[a]}));Object(n.useEffect)((function(){if(null!=m&&null!=v&&null!=c){for(var e=new Array(7),a=1;a<d;a++)e.push({date:f.timeseries[a].date,value:f.timeseries[a][c],delta:v[a][c]});s(e)}}),[m,v]);var p=null;return v&&(p=v[0].doublingtime),r.a.createElement("div",{className:"p-col-6 p-lg-3"},r.a.createElement(S.Card,{className:""},r.a.createElement("div",{className:x.a.label},t),r.a.createElement("div",{className:x.a.number},r.a.createElement(G,{value:p})," days"),u.map((function(e){return r.a.createElement("div",{key:e.date,className:"p-grid p-justify-center"},r.a.createElement("div",{className:k()("p-col-5",x.a.right)},r.a.createElement(G,{value:e.delta})," days"))}))))},M=function(e){var a=e.countrycode,t=Object(l.b)(),c=Object(l.c)((function(e){var t;return null===(t=e.corona.latestData)||void 0===t?void 0:t.find((function(e){return e.countrycode.iso2===a}))}));return Object(n.useEffect)((function(){var e;t((e=a,function(){var a=Object(s.a)(u.a.mark((function a(t,n){var r,c,o,l,i;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,v.a.get("https://wuhan-coronavirus-api.laeyoung.endpoint.ainize.ai/jhu-edu/timeseries?iso2=".concat(e.toUpperCase(),"&onlyCountries=true"));case 3:c=a.sent,o=c.data[0],l=o.timeseries,i=Object.keys(l).map((function(e){var a=p.a(e,"MM/dd/yy",new Date),t=b.a(a,{representation:"date"});return Object(d.a)({date:t},l[e])})).sort((function(e,a){return a.date.localeCompare(e.date)})),r=Object(d.a)({},o,{timeseries:i}),a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),console.log("error:",a.t0),a.abrupt("return");case 14:t(j(r));case 15:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e,t){return a.apply(this,arguments)}}()))}),[]),r.a.createElement("div",{className:"ui container"},r.a.createElement("h2",{className:w.a.countryHeader},(null===c||void 0===c?void 0:c.countryregion)||a),r.a.createElement("div",{className:"p-grid"},r.a.createElement(H,{countrycode:a,name:"confirmed",label:"Confirmed"}),r.a.createElement(H,{countrycode:a,name:"recovered",label:"Recovered"}),r.a.createElement(H,{countrycode:a,name:"deaths",label:"Deaths"}),r.a.createElement(z,{countrycode:a,label:"Doubling Time",name:"doublingtime"})))},T=t(32),A=t.n(T),L=function(e){var a=e.label,t=e.name,n=e.value,c=e.percentage,o=Object(l.c)((function(e){return e.corona.latestGlobalData})),i=n||null!=o&&null!=t&&o[t]||null;return r.a.createElement("div",{className:"p-col"},r.a.createElement(S.Card,null,r.a.createElement("div",{className:x.a.label},a),r.a.createElement("div",{className:x.a.number},r.a.createElement(G,{value:i,percentage:c}))))},R=function(){var e=Object(l.c)((function(e){return e.corona.latestGlobalData}));return r.a.createElement("div",{className:"ui container"},r.a.createElement("h2",{className:w.a.countryHeader},"World-Wide"),r.a.createElement("div",{className:"p-grid"},r.a.createElement(L,{label:"Confirmed",name:"confirmed"}),r.a.createElement(L,{label:"Recovered",name:"recovered"}),r.a.createElement(L,{label:"Deaths",name:"deaths"}),r.a.createElement(L,{label:"Fatality Rate",value:e&&e.deaths/e.confirmed||null,percentage:!0})))},W=function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e.corona})).selectedCountries;return Object(n.useEffect)((function(){e(function(){var e=Object(s.a)(u.a.mark((function e(a,t){var n,r,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t().corona.selectedCountries,r=n.map((function(e){return v.a.get("https://wuhan-coronavirus-api.laeyoung.endpoint.ainize.ai/jhu-edu/latest?iso2=".concat(e,"&onlyCountries=true"))})),c=[],e.prev=3,e.next=6,v.a.all(r);case 6:o=e.sent,c=o.map((function(e){return e.data[0]})),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(3),console.log("error:",e.t0),e.abrupt("return");case 14:a(y(c));case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(a,t){return e.apply(this,arguments)}}()),e(function(){var e=Object(s.a)(u.a.mark((function e(a){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("https://wuhan-coronavirus-api.laeyoung.endpoint.ainize.ai/jhu-edu/brief");case 3:n=e.sent,t=n.data,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log("error:",e.t0),e.abrupt("return");case 11:a(g(t));case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}())}),[]),r.a.createElement("div",{className:A.a.rootContainer},r.a.createElement("h1",null,"Mr K.'s Corona Dashboard"),r.a.createElement(R,null),a.map((function(e){return r.a.createElement(M,{key:e,countrycode:e})})),r.a.createElement(S.Card,{className:"footer"},"Thanks to Ainize for providing the data API:"," ",r.a.createElement("a",{href:"https://ainize.ai/laeyoung/wuhan-coronavirus-api"},"https://ainize.ai/laeyoung/wuhan-coronavirus-api")))};var B=function(){return r.a.createElement(W,null)},F=Object(m.a)({reducer:{corona:D}});t(65),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:F},r.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.67b61e3b.chunk.js.map